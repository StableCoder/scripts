#!/bin/bash
# This file should be stored at /usr/local/bin/dynmotd
ip="10.120.9.145"
ip6="F1D8:ABCD:21:9::ABCD"
up=$(uptime | cut -d ' ' -f 4-5 | sed 's/,//g' | sed 's/d/D/g')
user=$(uptime | cut -d ' ' -f 8-9 | grep -o "[0-9]")
disk=$( df -h | grep sda5 | grep -o "[0-9]*%" )
ram=$(free -m | grep - | cut -d ' ' -f 9,15 | awk '{CONVFMT="%2.0f" ; total = $1 + $2; used = $1 / total * 100;  print used"%"}')
cpu=$( uptime | cut -d ' ' -f 15 | sed 's/,//g' | awk '{CONVFMT = "%2.1f"; load = $1 * 100 / 8; print load"%" }')

echo -e "\e[38;5;255m
                                           ####
                                         ##    #
  \e[38;5;135m..         \e[38;5;255m ..\e[38;5;93m...    \e[38;5;255m Welcome to      ##     #\e[38;5;135m
  \e[38;5;135m';;;;....\e[38;5;93m..;.\e[38;5;255m##\e[38;5;93m;;;;.                \e[38;5;255m ##       #\e[38;5;135m
    \e[38;5;135m';;;;;\e[38;5;93m;;;;;;.\e[38;5;255m##\e[38;5;93m;;;;.              \e[38;5;135m #\e[38;5;135m
      \e[38;5;135m'';;;;;\e[38;5;93m;;;;;;.\[38;5;255m##\e[38;5;93m;;;;.          \e[38;5;135m ##            ####       ####       ####
          \e[38;5;135m'''\e[38;5;93m;;;;;;;;;\e[38;5;255m#\e[38;5;93m;;;;;;;;;.    \e[38;5;135m ##          ##    #    ##    #    ##    #
       \e[38;5;55m';;;;;..\e[38;5;198m'';;;;;;;;;;;;;;;;;.  \e[38;5;93m ##         ##     #   ##         ##     #
          \e[38;5;55m';;;;;;.  \e[38;5;198m'''';;;;;;;;;;;. \e[38;5;93m ##        ##     #   ##         ##     #
            \e[38;5;55m';;;;;;;.       \e[38;5;198m;;;;;;;;  \e[38;5;57m##     #  ##    #    ##     #   ##    #
              \e[38;5;55m';;;;;;;.    \e[38;5;198m;;;;;;;;;   \e[38;5;57m##   #     ####       #####      ####
                 \e[38;5;55m';;;;;.   \e[38;5;198m;;;;;;''     \e[38;5;57m####    
                   \e[38;5;55m'';;; 

               \e[38;5;198mIP: $ip   \e[38;5;163mUptime: $up  \e[38;5;129mDisk Used: $disk    \e[38;5;93mCPU Load: $cpu 
     \e[38;5;198mIPv6: $ip6   \e[38;5;163mUsers: $user        \e[38;5;129mRAM Used: $ram \e[38;5;93m
"
